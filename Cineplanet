import java.util.ArrayList;
import java.util.Scanner;

// Clase para representar una película con nombre y precio
class Pelicula {
    String nombre;
    double precio;

    public Pelicula(String nombre, double precio) {
        this.nombre = nombre;
        this.precio = precio;
    }
}

// Clase para representar una canchita con nombre y precio
class Canchita {
    String nombre;
    double precio;

    public Canchita(String nombre, double precio) {
        this.nombre = nombre;
        this.precio = precio;
    }
}

class DataCineplanet {
    static ArrayList<String> lugares = new ArrayList<>();
    static ArrayList<Pelicula> peliculas = new ArrayList<>();
    static ArrayList<String> horarios = new ArrayList<>();
    static ArrayList<Canchita> canchitas = new ArrayList<>();

    public static void inicializarDatos() {
        // Lugares
        lugares.add("Lima");
        lugares.add("Piura");
        lugares.add("Cusco");

        // Películas con precios
        peliculas.add(new Pelicula("Spider-Man: Across the Spider-Verse", 25.0));
        peliculas.add(new Pelicula("Avatar: The Way of Water", 30.0));
        peliculas.add(new Pelicula("Doctor Strange: Multiverse of Madness", 28.0));

        // Horarios
        horarios.add("3:00 PM");
        horarios.add("6:00 PM");
        horarios.add("9:00 PM");

        // Tipos de canchita con precios
        canchitas.add(new Canchita("Mantequilla", 10.0));
        canchitas.add(new Canchita("Dulce", 12.0));
        canchitas.add(new Canchita("Salada", 8.0));
    }
}

public class Cineplanet {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        DataCineplanet.inicializarDatos();

        // Selección de lugar
        System.out.println("Bienvenido a Cineplanet. Seleccione una ubicación:");
        for (int i = 0; i < DataCineplanet.lugares.size(); i++) {
            System.out.println((i + 1) + ". " + DataCineplanet.lugares.get(i));
        }
        System.out.print("Ingrese el número de la ubicación: ");
        int lugarSeleccionado = scanner.nextInt();

        // Selección de película
        System.out.println("\nPelículas disponibles (con precios):");
        for (int i = 0; i < DataCineplanet.peliculas.size(); i++) {
            Pelicula pelicula = DataCineplanet.peliculas.get(i);
            System.out.println((i + 1) + ". " + pelicula.nombre + " - S/" + pelicula.precio);
        }
        System.out.print("Seleccione una película: ");
        int peliculaSeleccionada = scanner.nextInt();
        Pelicula peliculaElegida = DataCineplanet.peliculas.get(peliculaSeleccionada - 1);

        // Selección de horario
        System.out.println("\nHorarios disponibles:");
        for (int i = 0; i < DataCineplanet.horarios.size(); i++) {
            System.out.println((i + 1) + ". " + DataCineplanet.horarios.get(i));
        }
        System.out.print("Seleccione un horario: ");
        int horarioSeleccionado = scanner.nextInt();

        // Selección de asientos y precios
        System.out.print("\n¿Cuántos asientos desea?: ");
        int cantidadAsientos = scanner.nextInt();
        double totalBoletos = 0;

        ArrayList<String> asientosSeleccionados = new ArrayList<>();
        System.out.println("\nMapa de Asientos:");
        System.out.println("""
                	1  2  3  4  5  6  7  8  9  10 11 12 	13 14 15
                
                A   ○  ○  ○  ○  ●  ○  ○  ○  ○  ○  ○  ○
                B	○  ○  ○  ○  ○  ○  ○  ○  ○  ○  ○  ○
                C	○  ●  ●  ○  ○  ○  ○  ○  ○  ○  ○  ○
                D	○  ○  ○  ○  ○  ●  ○  ○  ○  ○  ○  ○
                E	○  ○  ○  ○  ○  ○  ○  ○  ○  ○  ○  ○
                F	○  ●  ●  ○  ○  ○  ○  ○  ○  ○  ●  ○
                G	○  ○  ○  ○  ○  ○  ●  ○  ○  ○  ○  ○
                H	○  ○  ○  ○  ●  ○  ○  ○  ○  ○  ○  ○
                I	○  ○  ○  ○  ○  ○  ○  ○  ○  ○  ○  ○     	○  ●  ●
                J	○  ○  ○  ○  ○  ○  ●  ○  ○  ○  ○  ○		●  ○  ○
                """);

        for (int i = 0; i < cantidadAsientos; i++) {
            System.out.println("\nUsuario " + (i + 1));
            System.out.print("Seleccione el tipo de usuario (1. Adulto, 2. Niño, 3. Socio): ");
            int tipoUsuario = scanner.nextInt();

            switch (tipoUsuario) {
                case 1:
                    totalBoletos += peliculaElegida.precio; // Adulto paga el precio completo
                    break;
                case 2:
                case 3:
                    totalBoletos += peliculaElegida.precio / 2; // Niños y socios pagan la mitad
                    break;
                default:
                    System.out.println("Tipo de usuario inválido. Se cobrará como adulto.");
                    totalBoletos += peliculaElegida.precio;
            }

            System.out.print("Seleccione su asiento (Ejemplo: A1, B3): ");
            asientosSeleccionados.add(scanner.next());
        }

        // Sección de dulces
        System.out.println("\nSección de dulces. Tenemos promoción:");
        for (int i = 0; i < DataCineplanet.canchitas.size(); i++) {
            Canchita canchita = DataCineplanet.canchitas.get(i);
            System.out.println((i + 1) + ". " + canchita.nombre + " - S/" + canchita.precio);
        }
        System.out.print("Seleccione un tipo de canchita: ");
        int canchitaSeleccionada = scanner.nextInt();
        System.out.print("¿Cuántas canchitas desea?: ");
        int cantidadCanchitas = scanner.nextInt();

        double totalDulces = cantidadCanchitas * DataCineplanet.canchitas.get(canchitaSeleccionada - 1).precio;

        // Llamada al método para imprimir el total
        imprimirTotalCompras(
            DataCineplanet.lugares.get(lugarSeleccionado - 1),
            peliculaElegida,
            DataCineplanet.horarios.get(horarioSeleccionado - 1),
            asientosSeleccionados,
            totalBoletos,
            DataCineplanet.canchitas.get(canchitaSeleccionada - 1),
            cantidadCanchitas,
            totalDulces
        );

        scanner.close();
    }

    public static void imprimirTotalCompras(
            String lugar,
            Pelicula pelicula,
            String horario,
            ArrayList<String> asientos,
            double totalBoletos,
            Canchita canchita,
            int cantidadCanchitas,
            double totalDulces
    ) {
        double total = totalBoletos + totalDulces;
        System.out.println("\n--- Recibo ---");
        System.out.println("Lugar: " + lugar);
        System.out.println("Película: " + pelicula.nombre);
        System.out.println("Horario: " + horario);
        System.out.println("Asientos: " + asientos);
        System.out.println("Total Boletos: S/" + totalBoletos);
        System.out.println("Dulces: " + canchita.nombre + " x" + cantidadCanchitas + " - S/" + totalDulces);
        System.out.println("Total a pagar: S/" + total);
        System.out.println("Gracias por su compra.");
    }
}
